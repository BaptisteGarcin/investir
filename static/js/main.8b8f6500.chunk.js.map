{"version":3,"sources":["yahoo-finance/lib/yahooCrumb.js","yahoo-finance/lib/quote.js","yahoo-finance/index.js","yahoo-finance/lib/index.js","yahoo-finance/lib/historical.js","yahoo-finance/lib/snapshot.js","yahoo-finance/lib/snapshotFields.js","App.js","reportWebVitals.js","index.js","yahoo-finance/lib/constants.js","yahoo-finance/lib/utils.js"],"names":["util","require","Promise","_","debug","_constants","_utils","dataRE","parseAndGetCrumb","body","data","crumb","match","exec","Error","JSON","parse","err","console","error","context","dispatcher","stores","CrumbStore","warn","plugins","ServicePlugin","xhrContext","rpOpts","resolveWithFullResponse","exports","getCrumb","symbol","cookies","cookiejar","getCookies","HISTORICAL_CRUMB_URL","find","key","resolve","url","replace","download","then","res","catch","format","message","fetch","os","validModules","dateFields","summaryDetail","calendarEvents","upgradeDowngradeHistory","price","defaultKeyStatistics","_sanitizeQuoteOptions","options","isPlainObject","isUndefined","symbols","isArray","isEmpty","isString","modules","invalid","difference","length","available","stringify","transformDates","result","each","keys","module","field","indexOf","Date","parts","split","arrayName","subField","row","__esModule","default","optionalHttpRequestOptions","cb","undefined","flatten","clone","json","map","SNAPSHOT_URL","formatted","join","corsDomain","quoteSummary","concurrency","maxConcurrentSymbols","cpus","results","zipObject","nodeify","historical","snapshot","quote","moment","isBoolean","from","isValid","isDate","isNull","to","period","includes","hour","events","isAfter","_sanitizeHistoricalOptions","HISTORICAL_DOWNLOAD_URL","period1","period2","interval","parseCSV","headings","shift","reverse","line","forEach","heading","i","value","toInt","toFloat","toDate","camelize","_transformHistorical","_fields","FIELDS_MAP_GITHUB_URL","mappedFields","filter","_map","requiredModuleForField","shownWarning","_sanitizeSnapshotOptions","fields","unavailable","ignoreAllFieldsWarning","push","requiredModulesForFields","out","dest","_transformSnapshot","s","a","b","b2","b3","p","o","y","d","r1","q","c1","c","c6","k2","p2","d1","d2","t1","c8","c3","g","h","k1","l","l1","t8","m5","m6","m7","m8","m3","m4","w1","w4","p1","m","m2","g1","g3","g4","g5","g6","k","j","j5","k4","j6","k5","w","j1","j3","f6","n","n4","s1","x","j2","v","a5","b6","k3","a2","e","e7","e8","e9","b4","j4","p5","p6","r","r2","r5","r6","r7","s7","t7","t6","i5","l2","l3","v1","v7","s6","e1","App","isInitialMount","useRef","useState","ticker","setTicker","earningsGain","setEarningsGain","calculatePctChange","previous","current","useEffect","yahooFinance","log","earnings","financialsChart","yearly","earningsGrowth","annee","date","chiffre_affaires","revenue","benefice_net","pctChange","chiffre_affaires_pctChange","benefice_net_pctChange","style","margin","type","onChange","target","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","S","request","Cookie","dateFormats","jar","text","slugify","uri","qs","finalHttpRequestOptions","optionalOptions","assign","augmentHttpRequestOptions","pathname","query","extend","setCookieHeader","Array","setCookie","storeCookiesInJar","headers","trim","valueForError","tz","getFullYear","valueForNaN","parseFloat","isNaN","parseInt"],"mappings":"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","file":"static/js/main.8b8f6500.chunk.js","sourcesContent":["var util = require('util');\n\nvar Promise = require('bluebird');\nvar _ = require('lodash');\nvar debug = require('debug')('yahoo-finance:yahooCrumb');\n\nvar _constants = require('./constants');\nvar _utils = require('./utils');\n\n// Faster but probably more brittle option:\n// var crumbRE = /\"CrumbStore\":\\{\"crumb\":\"(.+?)\"\\}/;\n\nvar dataRE = /^root.App.main = (\\{.*\\});$/m;\nfunction parseAndGetCrumb(body) {\n  var match = dataRE.exec(body);\n  if (!match) {\n    throw new Error(\"Could not match root.App.main line.  If this happens \" +\n      \"consistently, Yahoo output has changed and you should open a bug \" +\n      \"report.\");\n  }\n\n  var data;\n  try {\n    data = JSON.parse(match[1]);\n  } catch (err) {\n    console.error(err);\n    throw new Error(\"root.App.main line (or regexp) did not capture valid \" +\n      \"JSON.  If this happens consistently, please open a bug report.\");\n  }\n\n  var crumb;\n  if (!data.context)\n    throw new Error(\"root.Api.main JSON structure has changed.  If this \" +\n      \"happens consistently, please open a bug report.\");\n\n  var dispatcher = data.context.dispatcher;\n  crumb = dispatcher &&\n    dispatcher.stores &&\n    dispatcher.stores.CrumbStore &&\n    dispatcher.stores.CrumbStore.crumb;\n\n  if (!crumb) {\n    console.warn('root.Api.main context.dispatcher.stores.CrumbStore.crumb ' +\n      'structure no longer exists, please open an issue.');\n\n    var plugins = data.context.plugins;\n    crumb = plugins &&\n      plugins.ServicePlugin &&\n      plugins.ServicePlugin.xhrContext &&\n      plugins.ServicePlugin.xhrContext.crumb;\n\n    if (!crumb)\n      throw new Error('root.Api.main ' +\n        'context.plugins.ServicePlugin.xhrContext.crumb' +\n        'structure no longer exists, please open an issue.')\n  }\n\n  return crumb;\n}\n\nvar crumb = null;\nvar rpOpts = { resolveWithFullResponse: true };\n\nfunction fetch(symbol) {\n  var url = _constants.HISTORICAL_CRUMB_URL.replace(/\\$SYMBOL/, symbol);\n  return _utils.download(url, '', rpOpts)\n    .then(function (res) {\n      crumb = parseAndGetCrumb(res.body);\n      return crumb;\n    })\n    .catch(function(err){\n      throw new Error(util.format('Failed to get crumb (%s)', err.message));\n    });\n}\n\nfunction getCrumb(symbol) {\n  // Invalidate the crumb if the cookie is expired.\n  if (crumb) {\n    // Note: getCookies() won't return expired cookies and we rely on this.\n    var cookies = _utils.cookiejar.getCookies(_constants.HISTORICAL_CRUMB_URL);\n    var bCookie = _.find(cookies, { key: 'B' });\n    if (!bCookie) {\n      debug('No valid cookies, invalidating crumb');\n      crumb = null;\n    }\n  }\n\n  if (crumb) {\n    debug('Returning cached crumb');\n    return Promise.resolve(crumb);\n  } else {\n    debug('Fetching a new cookie & crumb');\n    return fetch(symbol).then(function(crumb) { return crumb; })\n  }\n}\n\n// API\nexports.getCrumb = getCrumb;\n\n// for testing\nexports.parseAndGetCrumb = parseAndGetCrumb;\n","var os = require('os');\nvar util = require('util');\n\nvar _ = require('lodash');\nvar Promise = require('bluebird');\n\nvar _constants = require('./constants');\nvar _utils = require('./utils');\nvar getCrumb = require('./yahooCrumb').getCrumb;\n\nvar validModules = [\n  'summaryProfile', 'financialData', 'recommendationTrend',\n  'upgradeDowngradeHistory', 'earnings', 'price', 'summaryDetail',\n  'defaultKeyStatistics', 'calendarEvents'\n];\n\nvar dateFields = {\n  summaryDetail: [ 'exDividendDate' ],\n  calendarEvents: [ 'exDividendDate', 'dividendDate' ],\n  upgradeDowngradeHistory: [ 'history.epochGradeDate' ],\n  price: [ 'preMarketTime', 'postMarketTime', 'regularMarketTime' ],\n  defaultKeyStatistics: [\n    'lastFiscalYearEnd', 'nextFiscalYearEnd',\n    'mostRecentQuarter', 'lastSplitDate'\n  ]\n};\n\nfunction _sanitizeQuoteOptions(options) {\n  if (!_.isPlainObject(options)) {\n    throw new Error('\"options\" must be a plain object.');\n  }\n  if (_.isUndefined(options.symbol) && _.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be defined.');\n  }\n  if (!_.isUndefined(options.symbol) && !_.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be undefined.');\n  }\n\n  if (!_.isUndefined(options.symbol)) {\n    if (!_.isString(options.symbol) || _.isEmpty(options.symbol)) {\n      throw new Error('\"options.symbol\" must be a non-empty string.');\n    }\n  } else {\n    if (!_.isArray(options.symbols) || _.isEmpty(options.symbols)) {\n      throw new Error('\"options.symbols\" must be a non-empty string array.');\n    }\n  }\n\n  if (options.modules) {\n    if (!_.isArray(options.modules))\n      throw new Error('\"options.modules\" must be a non-empty string array or undefined.');\n  } else {\n    options.modules = ['price', 'summaryDetail'];\n  }\n\n  var invalid = _.difference(options.modules, validModules);\n  if (invalid.length) {\n    var available = _.difference(validModules, options.modules);\n    throw new Error(\"[yahoo-finance] quote(): The following requested \" +\n      \"modules do not exist: \" + JSON.stringify(invalid) +\n      \".  Did you mean one of: \" + JSON.stringify(available) + \"?\");\n  }\n}\n\nfunction transformDates(result) {\n  _.each(_.keys(result), function(module) {\n    _.each(dateFields[module], function(field) {\n\n      if (field.indexOf('.') === -1) {\n\n        if (result[module][field])\n          result[module][field] = new Date(result[module][field] * 1000);\n\n      } else {\n\n        var parts = field.split('.');\n        var arrayName = parts[0];\n        var subField = parts[1];\n\n        if (result[module][arrayName])\n        _.each(result[module][arrayName], function(row) {\n          if (row[subField])\n            row[subField] = new Date(row[subField] * 1000);\n        });\n\n      }\n    });\n  });\n  return result;\n}\n\nfunction quote(options, optionalHttpRequestOptions, cb) {\n  if (_.isString(options)) {\n    options = { symbol: options };\n    if (_.isArray(optionalHttpRequestOptions)) {\n      options.modules = optionalHttpRequestOptions;\n      optionalHttpRequestOptions = undefined;\n    }\n  }\n\n  var symbols = options.symbols || _.flatten([options.symbol]);\n  options = _.clone(options);\n  _sanitizeQuoteOptions(options);\n\n  if(optionalHttpRequestOptions && typeof optionalHttpRequestOptions == 'function') {\n    cb = optionalHttpRequestOptions;\n    optionalHttpRequestOptions = {};\n  } else if (!optionalHttpRequestOptions) {\n    optionalHttpRequestOptions = {};\n  }\n\n  optionalHttpRequestOptions.json = true;\n\n  return getCrumb(symbols[0])\n    .then(function(crumb) {\n      return Promise.map(symbols, function (symbol) {\n        var url = _constants.SNAPSHOT_URL.replace(/\\$SYMBOL/, symbol);\n        return _utils.download(url, {\n            formatted: 'false',\n            crumb: crumb,\n            modules: options.modules.join(','),\n            corsDomain: 'finance.yahoo.com'\n          }, optionalHttpRequestOptions)\n          .then(function(result) {\n            var quoteSummary = result.quoteSummary;\n            if (!quoteSummary || quoteSummary.error)\n              throw new Error(quoteSummary.error);\n\n            var result = quoteSummary.result;\n            if (!_.isArray(result) || result.length > 1)\n              throw new Error(\"quoteSummary format has changed, please report \"\n                + \"this.\");\n\n            return result[0];\n          })\n          .then(transformDates)\n      }, {concurrency: options.maxConcurrentSymbols || os.cpus().length})\n      .then(function (results) {\n        if (options.symbols) {\n          return _.zipObject(symbols, results);\n        } else {\n          return results[0];\n        }\n      })\n      .catch(function (err) {\n        throw new Error(util.format('Failed to download data (%s)', err.message));\n      })\n      .nodeify(cb);\n    });\n}\n\n// API (ES6 syntax with default export)\nexports.__esModule = true;\nexports.default = quote;\n\n// Used by snapshot\nexports.dateFields = dateFields;\n\n// For tests\nexports._sanitizeQuoteOptions = _sanitizeQuoteOptions;\n","exports = module.exports = require('./lib');\n","exports.historical = require('./historical');\nexports.snapshot = require('./snapshot').default;\nexports.quote = require('./quote').default;\n","var os = require('os');\nvar util = require('util');\n\nvar _ = require('lodash');\nvar S = require('string');\nvar moment = require('moment');\nvar Promise = require('bluebird');\n\nvar _constants = require('./constants');\nvar _utils = require('./utils');\nvar getCrumb = require('./yahooCrumb').getCrumb;\n\nfunction _sanitizeHistoricalOptions(options) {\n  if (!_.isPlainObject(options)) {\n    throw new Error('\"options\" must be a plain object.');\n  }\n  if (_.isUndefined(options.symbol) && _.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be defined.');\n  }\n  if (!_.isUndefined(options.symbol) && !_.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be undefined.');\n  }\n  if (!_.isUndefined(options.error) && !_.isBoolean(options.error)) {\n    throw new Error('\"options.error\" must be a boolean value');\n  }\n  if (!_.isUndefined(options.symbol)) {\n    if (!_.isString(options.symbol) || _.isEmpty(options.symbol)) {\n      throw new Error('\"options.symbol\" must be a non-empty string.');\n    }\n  } else {\n    if (!_.isArray(options.symbols) || _.isEmpty(options.symbols)) {\n      throw new Error('\"options.symbols\" must be a non-empty string array.');\n    }\n  }\n\n  if (_.isString(options.from) && !_.isEmpty(options.from)) {\n    options.from = moment(options.from);\n    if (!options.from.isValid()) {\n      throw new Error('\"options.from\" must be a valid date string.');\n    }\n  } else {\n    if (!_.isDate(options.from) && !_.isUndefined(options.from) && !_.isNull(options.from)) {\n      throw new Error('\"options.from\" must be a date or undefined/null.');\n    }\n    if (_.isDate(options.from)) {\n      options.from = moment(options.from);\n    }\n  }\n\n  if (_.isString(options.to) && !_.isEmpty(options.to)) {\n    options.to = moment(options.to);\n    if (!options.to.isValid()) {\n      throw new Error('\"options.to\" must be a valid date string.');\n    }\n  } else {\n    if (!_.isDate(options.to) && !_.isUndefined(options.to) && !_.isNull(options.to)) {\n      throw new Error('\"options.to\" must be a date or undefined/null.');\n    }\n    if (_.isDate(options.to)) {\n      options.to = moment(options.to);\n    }\n  }\n\n  if (_.isString(options.period)) {\n    if (!_.includes(['d', 'w', 'm', 'v'], options.period)) {\n      throw new Error('\"options.period\" must be \"d\", \"w\", \"m\", or \"v\".');\n    }\n  } else {\n    if (!_.isUndefined(options.period) && !_.isNull(options.period)) {\n      throw new Error('\"options.period\" must be a string or undefined/null.');\n    }\n  }\n\n  if (!options.from) {\n    options.from = moment('1900-01-01');\n  }\n\n  if (!options.to) {\n    options.to = moment({ hour: 0 });\n  }\n\n  if (!options.period) {\n    options.period = '1d';\n  }\n\n  options.events = 'history';\n\n  // Convert to yahoo v7 API\n  switch (options.period) {\n    case 'd': options.period = '1d'; break;\n    case 'w': options.period = '1wk'; break;\n    case 'm': options.period = '1mo'; break;\n    case 'v': options.period = '1d'; options.events = 'div'; break;\n    // No default case needed, options are sanitized above.\n  }\n\n  if ((options.from || options.to) && options.from.isAfter(options.to)) {\n    throw new Error('\"options.to\" must be be greater than or equal to \"options.from\".');\n  }\n}\n\nfunction _transformHistorical(symbol, data) {\n  var headings = data.shift();\n  return _(data)\n    .reverse()\n    .map(function (line) {\n      var result = {};\n      headings.forEach(function (heading, i) {\n        var value = line[i];\n        if (_.includes(['Volume'], heading)) {\n          value = _utils.toInt(value, null);\n        } else if (_.includes(['Open', 'High', 'Low', 'Close', 'Adj Close', 'Dividends'], heading)) {\n          value = _utils.toFloat(value, null);\n        } else if (_.includes(['Date'], heading)) {\n          value = _utils.toDate(value, null);\n          if (value && !moment(value).isValid()) {\n            value = null;\n          }\n        }\n        result[_utils.camelize(heading)] = value;\n      });\n      result.symbol = symbol;\n      return result;\n    })\n    .value();\n}\n\nfunction historical(options, optionalHttpRequestOptions, cb) {\n  options = _.clone(options);\n  _sanitizeHistoricalOptions(options);\n  var symbols = options.symbols || _.flatten([options.symbol]);\n\n  if(optionalHttpRequestOptions && typeof optionalHttpRequestOptions === 'function') {\n    cb = optionalHttpRequestOptions;\n    optionalHttpRequestOptions = undefined;\n  }\n\n  return getCrumb(symbols[0])\n    .then(function(crumb) {\n      return Promise.map(symbols, function (symbol) {\n        var url = _constants.HISTORICAL_DOWNLOAD_URL.replace(/\\$SYMBOL/, symbol);\n        return _utils.download(url, {\n          period1: options.from.format('X'),\n          period2: options.to.format('X'),\n          interval: options.period,\n          events: options.events,\n          crumb: crumb\n        }, optionalHttpRequestOptions)\n        .then(_utils.parseCSV)\n        .then(function (data) {\n          return _transformHistorical(symbol, data);\n        })\n        .catch(function (err) {\n          if (options.error) {\n            throw err;\n          } else {\n            return [];\n          }\n        });\n      }, {concurrency: options.maxConcurrentSymbols || os.cpus().length})\n      .then(function (result) {\n        if (options.symbols) {\n          return _.zipObject(symbols, result);\n        } else {\n          return result[0];\n        }\n      })\n      .catch(function (err) {\n        throw new Error(util.format('Failed to download data (%s)', err.message));\n      })\n      .nodeify(cb);\n    });\n}\n\nmodule.exports = historical;\n","var os = require('os');\nvar util = require('util');\n\nvar _ = require('lodash');\nvar S = require('string');\nvar moment = require('moment');\nvar Promise = require('bluebird');\n\nvar _constants = require('./constants');\nvar _fields = require('./snapshotFields');\nvar _utils = require('./utils');\nvar getCrumb = require('./yahooCrumb').getCrumb;\n\nvar dateFields = require('./quote').dateFields;\n\nvar FIELDS_MAP_GITHUB_URL = 'https://github.com/pilwon/node-yahoo-finance/blob/master/lib/snapshotFields.js#L111';\n\n// Fields from the old API that can be mapped to the current data\nvar mappedFields = _.filter(_.keys(_fields._map), function(field) {\n  return !!_fields._map[field]\n});\n\nvar requiredModuleForField = {};\n_.each(mappedFields, function(field) {\n  requiredModuleForField[field] = _fields._map[field].split('.')[0];\n});\n\n// Given a list of fields, return the names of all the modules needed to\n// supply them.\nfunction requiredModulesForFields(fields) {\n  var modules = [];\n  _.each(fields, function(field) {\n    var module = requiredModuleForField[field];\n    if (modules.indexOf(module) === -1)\n      modules.push(module);\n  });\n  return modules;\n}\n\nvar shownWarning = false;\n\nfunction _sanitizeSnapshotOptions(options) {\n  if (!_.isPlainObject(options)) {\n    throw new Error('\"options\" must be a plain object.');\n  }\n  if (_.isUndefined(options.symbol) && _.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be defined.');\n  }\n  if (!_.isUndefined(options.symbol) && !_.isUndefined(options.symbols)) {\n    throw new Error('Either \"options.symbol\" or \"options.symbols\" must be undefined.');\n  }\n\n  if (!_.isUndefined(options.symbol)) {\n    if (!_.isString(options.symbol) || _.isEmpty(options.symbol)) {\n      throw new Error('\"options.symbol\" must be a non-empty string.');\n    }\n  } else {\n    if (!_.isArray(options.symbols) || _.isEmpty(options.symbols)) {\n      throw new Error('\"options.symbols\" must be a non-empty string array.');\n    }\n  }\n\n  if ((!_.isArray(options.fields) || _.isEmpty(options.fields)) && !_.isUndefined(options.fields)) {\n    throw new Error('\"options.fields\" must be a non-empty string array or undefined.');\n  }\n\n  if (options.fields) {\n\n    var unavailable = _.difference(options.fields, mappedFields);\n    if (unavailable.length)\n      throw new Error(\"[yahoo-finance] snapshot(): The following fields \" +\n        \"are no longer available in Yahoo's new API: \" +\n        JSON.stringify(unavailable) +\n        \".  See if you can find something similar in the new quote() API, \" +\n        \"otherwise unfortunately, you are out of luck.  Yahoo ended support \" +\n        \"for their developer API some time ago and made no guarantees to \" +\n        \"maintain that API.  You may want to also check our mapping function \" +\n        \"at \" + FIELDS_MAP_GITHUB_URL);\n\n    if (!shownWarning) {\n      console.warn(\"[yahoo-finance] snapshot() has been deprecated.  The \" +\n        \"Yahoo Finance API has fundamentally changed recently.  We will \" +\n        \"attempt to map the requested fields from the new API according to \" +\n        FIELDS_MAP_GITHUB_URL +\n        \".  Please double check this map and your results to ensure \" +\n        \"consistency.  This warning will only be shown once.\");\n      shownWarning = true;\n    }\n\n  } else {\n\n    if (!options.ignoreAllFieldsWarning) {\n      throw new Error(\"[yahoo-finance] snapshot(): No `fields` property was \" +\n        \"given.  This used to return all fields available, but not all these \" +\n        \"fields are available in Yahoo's new API.  We suggest you update \" +\n        \"your code to use the new quote() API instead.  However, you can \" +\n        \"simply specify the exact fields you need, and they'll be fetched if \" +\n        \"available.  Alternative, pass { ignoreAllFieldsWarning: true } and \" +\n        \"all available fields (from the new API) will be returned.  You can \" +\n        \"see the full list of available mappings at \" + FIELDS_MAP_GITHUB_URL);\n    } else {\n      // fetch all fields if undefined\n      options.fields = mappedFields;\n    }\n\n  }\n\n  options.modules = requiredModulesForFields(options.fields);\n}\n\nfunction _transformSnapshot(fields, symbols, data) {\n  var quoteSummary = data.quoteSummary;\n  if (!quoteSummary || quoteSummary.error)\n    throw new Error(quoteSummary.error);\n\n  var result = quoteSummary.result;\n  if (!_.isArray(result) || result.length > 1)\n    throw new Error(\"quoteSummary format has changed, please report this.\");\n\n  result = result[0];\n\n  // for 'n', store 'name' from result.price.name, etc.\n  // for arrays like 'c', combine values into an array\n  var out = {};\n  _.each(fields, function(field) {\n    // map { c: 'price.regularMarketChange,price.regularMarketChangePercent' }\n    if (_fields._map[field].indexOf(',') > 0) {\n      var dest = out[_utils.camelize(_fields[field])] = [];\n      _.map(_fields._map[field].split(','), function(map) {\n        // 'price.symbol' => ['price','symbol']\n        map = map.split('.');\n        dest.push(result[map[0]][map[1]]);\n        // Assumption: no arrays use date fields (currently true)\n      });\n    } else {\n      // 'price.symbol' => ['price','symbol']\n      var map = _fields._map[field].split('.');\n      var value = result[map[0]][map[1]];\n\n      if (dateFields[map[0]] && dateFields[map[0]].indexOf(map[1]) !== -1)\n        value = new Date(value * 1000);\n\n      out[_utils.camelize(_fields[field])] = value;\n    }\n  });\n\n  return out;\n}\n\nfunction snapshot(options, optionalHttpRequestOptions, cb) {\n  var symbols = options.symbols || _.flatten([options.symbol]);\n  options = _.clone(options);\n  _sanitizeSnapshotOptions(options);\n\n  if(optionalHttpRequestOptions && typeof optionalHttpRequestOptions == 'function') {\n    cb = optionalHttpRequestOptions;\n    optionalHttpRequestOptions = {};\n  } else if (!optionalHttpRequestOptions) {\n    optionalHttpRequestOptions = {};\n  }\n\n  optionalHttpRequestOptions.json = true;\n\n  return getCrumb(symbols[0])\n    .then(function(crumb) {\n      return Promise.map(symbols, function (symbol) {\n        var url = _constants.SNAPSHOT_URL.replace(/\\$SYMBOL/, symbol);\n        return _utils.download(url, {\n            formatted: 'false',\n            crumb: crumb,\n            modules: options.modules.join(','),\n            corsDomain: 'finance.yahoo.com'\n          }, optionalHttpRequestOptions)\n          .then(function (data) {\n            return _transformSnapshot(options.fields, symbols, data);\n          })\n      }, {concurrency: options.maxConcurrentSymbols || os.cpus().length})\n      .then(function (results) {\n        if (options.symbols) {\n          return _.zipObject(symbols, results);\n        } else {\n          return results[0];\n        }\n      })\n      .catch(function (err) {\n        throw new Error(util.format('Failed to download data (%s)', err.message));\n      })\n      .nodeify(cb);\n    });\n}\n\n// API (ES6 syntax with default export)\nexports.__esModule = true;\nexports.default = snapshot;\n\n// For testing\nexports.mappedFields = mappedFields;\n","module.exports = {\n  s: 'Symbol',\n\n  // Pricing\n  a: 'Ask',\n  b: 'Bid',\n  b2: 'Ask (Realtime)',\n  b3: 'Bid (Realtime)',\n  p: 'Previous Close',\n  o: 'Open',\n\n  // Dividends\n  y: 'Dividend Yield',\n  d: 'Dividend Per Share',\n  r1: 'Dividend Pay Date',\n  q: 'Ex-Dividend Date',\n\n  // Date\n  c1: 'Change',\n  c: 'Change And Percent Change',\n  c6: 'Change (Realtime)',\n  k2: 'Change Percent (Realtime)',\n  p2: 'Change in Percent',\n  d1: 'Last Trade Date',\n  d2: 'Trade Date',\n  t1: 'Last Trade Time',\n\n  // Averages\n  c8: 'After Hours Change (Realtime)',\n  c3: 'Commission',\n  g: 'Day’s Low',\n  h: 'Day’s High',\n  k1: 'Last Trade (Realtime) With Time',\n  l: 'Last Trade (With Time)',\n  l1: 'Last Trade (Price Only)',\n  t8: '1 yr Target Price',\n  m5: 'Change From 200-day Moving Average',\n  m6: 'Percent Change From 200-day Moving Average',\n  m7: 'Change From 50-day Moving Average',\n  m8: 'Percent Change From 50-day Moving Average',\n  m3: '50-day Moving Average',\n  m4: '200-day Moving Average',\n\n  // Misc\n  w1: 'Day’s Value Change',\n  w4: 'Day’s Value Change (Realtime)',\n  p1: 'Price Paid',\n  m: 'Day’s Range',\n  m2: 'Day’s Range (Realtime)',\n  g1: 'Holdings Gain Percent',\n  g3: 'Annualized Gain',\n  g4: 'Holdings Gain',\n  g5: 'Holdings Gain Percent (Realtime)',\n  g6: 'Holdings Gain (Realtime)',\n\n  // 52 Week Pricing\n  k: '52-week High',\n  j: '52-week Low',\n  j5: 'Change From 52-week Low',\n  k4: 'Change From 52-week High',\n  j6: 'Percent Change From 52-week Low',\n  k5: 'Percebt Change From 52-week High',\n  w: '52-week Range',\n\n  // System Info\n  i: 'More Info',\n  j1: 'Market Capitalization',\n  j3: 'Market Cap (Realtime)',\n  f6: 'Float Shares',\n  n: 'Name',\n  n4: 'Notes',\n  s1: 'Shares Owned',\n  x: 'Stock Exchange',\n  j2: 'Shares Outstanding',\n\n  // Volume\n  v: 'Volume',\n  a5: 'Ask Size',\n  b6: 'Bid Size',\n  k3: 'Last Trade Size',\n  a2: 'Average Daily Volume',\n\n  // Ratio\n  e: 'Earnings Per Share',\n  e7: 'EPS Estimate Current Year',\n  e8: 'EPS Estimate Next Year',\n  e9: 'EPS Estimate Next Quarter',\n  b4: 'Book Value',\n  j4: 'EBITDA',\n  p5: 'Price per Sales',\n  p6: 'Price per Book',\n  r: 'PE Ratio',\n  r2: 'PE Ratio (Realtime)',\n  r5: 'PEG Ratio',\n  r6: 'Price Per EPS Estimate Current Year',\n  r7: 'Price Per EPS Estimate Next Year',\n  s7: 'Short Ratio',\n\n  // Misc\n  t7: 'Ticker Trend',\n  t6: 'Trade Links',\n  i5: 'Order Book (Realtime)',\n  l2: 'High Limit',\n  l3: 'Low Limit',\n  v1: 'Holdings Value',\n  v7: 'Holdings Value (Realtime)',\n  s6: 'Revenue',\n  e1: 'Error Indication (returned for symbol changed or invalid)',\n\n  // Map to v10 API\n  _map: {\n    s: 'price.symbol',                  // 'Symbol'\n\n    // Pricing\n    a: 'summaryDetail.ask',             // 'Ask'\n    b: 'summaryDetail.bid',             // 'Bid'\n    b2: 'summaryDetail.ask',            // 'Ask (Realtime)'\n    b3: 'summaryDetail.bid',            // 'Bid (Realtime)'\n    p: 'summaryDetail.previousClose',   // 'Previous Close'\n    o: 'summaryDetail.open',            // 'Open'\n\n    // Dividends\n    y: 'summaryDetail.dividendYield',   // 'Dividend Yield'\n    d: null,                            // 'Dividend Per Share'\n    r1: null,                           // 'Dividend Pay Date'\n    q: 'summaryDetail.exDividendDate',  // 'Ex-Dividend Date'\n\n    // Date\n    c1: 'price.regularMarketChange',    // 'Change'\n    c: 'price.regularMarketChange,price.regularMarketChangePercent',  // 'Change And Percent Change'\n    c6: 'price.postMarketChange',       // 'Change (Realtime)',\n    k2: 'price.postMarketChange',       // 'Change Percent (Realtime)',\n    p2: 'price.regularMarketChangePercent',  // 'Change in Percent',\n    d1: null,                           // 'Last Trade Date'\n    d2: null,                           // 'Trade Date'\n    t1: null,                           // 'Last Trade Time'\n\n    // Averages\n    c8: null,                           // 'After Hours Change (Realtime)',\n    c3: null,                           // 'Commission',\n    g: 'summaryDetail.dayLow',          // 'Day’s Low',\n    h: 'summaryDetail.dayHigh',         // 'Day’s High',\n    k1: null,                           // 'Last Trade (Realtime) With Time',\n    l: null,                            // 'Last Trade (With Time)',\n    l1: null,                           // 'Last Trade (Price Only)',\n    t8: null,                           // '1 yr Target Price',\n    m5: null,                           // 'Change From 200-day Moving Average',\n    m6: null,                           // 'Percent Change From 200-day Moving Average',\n    m7: null,                           // 'Change From 50-day Moving Average',\n    m8: null,                           // 'Percent Change From 50-day Moving Average',\n    m3: 'summaryDetail.fiftyDayAverage',      // '50-day Moving Average'\n    m4: 'summaryDetail.twoHundredDayAverage', // '200-day Moving Average'\n\n    // Misc\n    w1: null,                           // 'Day’s Value Change',\n    w4: null,                           // 'Day’s Value Change (Realtime)',\n    p1: null,                           // 'Price Paid',\n    m: null,                            // 'Day’s Range',\n    m2: null,                           // 'Day’s Range (Realtime)',\n    g1: null,                           // 'Holdings Gain Percent',\n    g3: null,                           // 'Annualized Gain',\n    g4: null,                           // 'Holdings Gain',\n    g5: null,                           // 'Holdings Gain Percent (Realtime)',\n    g6: null,                           // 'Holdings Gain (Realtime)',\n\n    // 52 Week Pricing\n    k: 'summaryDetail.fiftyTwoWeekHigh',  // '52-week High',\n    j: 'summaryDetail.fiftyTwoWeekLow',   // '52-week Low',\n    j5: null,                             // 'Change From 52-week Low',\n    k4: null,                             // 'Change From 52-week High',\n    j6: null,                             // 'Percent Change From 52-week Low',\n    k5: null,                             // 'Percebt Change From 52-week High',\n    w: null,                              // '52-week Range',\n\n    // System Info\n    i: null,                            // 'More Info',\n    j1: null,                           // 'Market Capitalization',\n    j3: null,                           // 'Market Cap (Realtime)',\n    f6: null,                           // 'Float Shares',\n    n: 'price.longName',                // 'Name',\n    n4: null,                           // 'Notes',\n    s1: null,                           // 'Shares Owned',\n    x: 'price.exchange',                // 'Stock Exchange',\n    j2: null,                           // 'Shares Outstanding',\n\n    // Volume\n    v: 'summaryDetail.volume',                    // 'Volume',\n    a5: 'summaryDetail.askSize',                  // 'Ask Size',\n    b6: 'summaryDetail.bidSize',                  // 'Bid Size',\n    k3: null,                                     // 'Last Trade Size',\n    a2: 'summaryDetail.averageDailyVolume10Day',  // 'Average Daily Volume',\n\n    // Ratio\n    e: 'defaultKeyStatistics.forwardEps',   // 'Earnings Per Share',\n    e7: null,                               // 'EPS Estimate Current Year',\n    e8: null,                               // 'EPS Estimate Next Year',\n    e9: null,                               // 'EPS Estimate Next Quarter',\n    b4: 'defaultKeyStatistics.bookValue',   // 'Book Value',\n    j4: 'financialData.ebitda',             // 'EBITDA',\n    p5: null,                               // 'Price per Sales',\n    p6: null,                               // 'Price per Book',\n    r: 'summaryDetail.trailingPE',          // 'PE Ratio',\n    r2: 'summaryDetail.forwardPE',          // 'PE Ratio (Realtime)',\n    r5: 'defaultKeyStatistics.pegRatio',    // 'PEG Ratio',\n    r6: null,                               // 'Price Per EPS Estimate Current Year',\n    r7: null,                               // 'Price Per EPS Estimate Next Year',\n    s7: 'defaultKeyStatistics.shortRatio',  // 'Short Ratio',\n\n    // Misc\n    t7: null,                           // 'Ticker Trend',\n    t6: null,                           // 'Trade Links',\n    i5: null,                           // 'Order Book (Realtime)',\n    l2: null,                           // 'High Limit',\n    l3: null,                           // 'Low Limit',\n    v1: null,                           // 'Holdings Value',\n    v7: null,                           // 'Holdings Value (Realtime)',\n    s6: null,                           // 'Revenue',\n    e1: null,                           // 'Error Indication (returned for symbol changed or invalid)'\n\n  }\n};\n","import React, {useState, useEffect, useRef } from 'react'\nimport './App.css';\nimport yahooFinance from './yahoo-finance';\n\nconst App = () => {\n  const isInitialMount = useRef(true);\n  const [ticker, setTicker] = useState(\"\");\n  const [earningsGain, setEarningsGain] = useState();\n\n  const calculatePctChange = (previous, current) => {\n    const change_percent = ((current-previous)/previous)*100;\n    return change_percent;\n  };\n\n  const getProfits = () => {\n    yahooFinance.quote({\n      symbol: `${ticker}.PA`,\n      modules: [ 'price', 'earnings' ] // see the doc for the full list\n    }, function (err, result) {\n      if(result){\n        console.log(result.earnings.financialsChart.yearly)\n        const earningsGrowth = result.earnings.financialsChart.yearly\n        .map((v, i) => {\n          if(i === 0) return { annee: v.date, chiffre_affaires: v.revenue, benefice_net: v.earnings, pctChange: 0 }\n          return { \n            annee: v.date, \n            chiffre_affaires: v.revenue, \n            chiffre_affaires_pctChange: calculatePctChange(result.earnings.financialsChart.yearly[i -1].revenue, v.revenue),\n            benefice_net: v.earnings, \n            benefice_net_pctChange: calculatePctChange(result.earnings.financialsChart.yearly[i -1].earnings, v.earnings)\n          }\n        });\n        setEarningsGain(JSON.stringify(earningsGrowth, null, 2)); \n      }\n      return err;  \n    }).catch(() => {});\n  }\n\n  const getQuotesList = (e) => setTicker(e.target.value);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n   } else {\n      getProfits();\n   }\n  }, [ticker]);\n\n  return (\n    <div style={{ margin: '20px'}}>\n      <header>\n        <input type=\"text\" onChange={getQuotesList} value={ticker}/>\n        <pre>{earningsGain}</pre>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","exports.HISTORICAL_CRUMB_URL = 'https://cors.bridged.cc/https://finance.yahoo.com/quote/$SYMBOL/history';\nexports.HISTORICAL_DOWNLOAD_URL = 'https://cors.bridged.cc/https://query1.finance.yahoo.com/v7/finance/download/$SYMBOL';\nexports.SNAPSHOT_URL = 'https://cors.bridged.cc/https://query2.finance.yahoo.com/v10/finance/quoteSummary/$SYMBOL';\n","var url = require('url');\nvar util = require('util');\n\nvar _ = require('lodash');\nvar S = require('string');\nvar debug = require('debug')('yahoo-finance:utils');\nvar request = require('request-promise');\nvar moment = require('moment-timezone');\nvar tough = require('tough-cookie');\n\nvar Cookie = tough.Cookie;\nvar dateFormats = ['YYYY-MM-DD', 'MM/DD/YYYY'];\nvar cookiejar = new request.jar();\n\nfunction camelize(text) {\n  return S(text)\n    .slugify()\n    .camelize()\n    .s;\n}\n\nfunction augmentHttpRequestOptions(optionalOptions) {\n  if (optionalOptions && optionalOptions.jar)\n    throw new Error(\"node-yahoo-finance does not support 'jar' key in \" +\n      \"optionalHttpRequestOptions, since we need to use our own cookiejar.\");\n\n  return _.assign({}, optionalOptions, {\n    resolveWithFullResponse: true,\n    jar: cookiejar\n  });\n}\n\nfunction storeCookiesInJar(setCookieHeader, url, cookiejar) {\n  var cookies;\n\n  if (typeof setCookieHeader === 'undefined') {\n    // no-op\n  } else if (setCookieHeader instanceof Array) {\n    cookies = setCookieHeader.map(Cookie.parse);\n  } else if (typeof setCookieHeader === 'string') {\n    cookies = [ Cookie.parse(setCookieHeader) ];\n  }\n\n  if (cookies)\n  for (var i=0; i < cookies.length; i++) {\n    // note: async, possible timing issues? TODO\n    cookiejar.setCookie(''+cookies[i], url);\n  }\n}\n\nfunction download(uri, qs, optionalHttpRequestOptions) {\n  var finalHttpRequestOptions = augmentHttpRequestOptions(optionalHttpRequestOptions);\n\n  debug(url.format({pathname: uri, query: qs}));\n  return request(_.extend({uri: uri, qs: qs}, finalHttpRequestOptions))\n    .then(function(res) {\n      storeCookiesInJar(res.headers['set-cookie'], uri, cookiejar);\n      return (optionalHttpRequestOptions &&\n        optionalHttpRequestOptions.resolveWithFullResponse) ? res : res.body;\n    });\n}\n\nfunction parseCSV(text) {\n  return S(text).trim().s.split('\\n').map(function (line) {\n    return S(line).trim().parseCSV();\n  });\n}\n\nfunction toDate(value, valueForError) {\n  try {\n    var date = moment.tz(value, dateFormats, 'America/New_York').toDate();\n    if (date.getFullYear() < 1400) { return null; }\n    return date;\n  } catch (err) {\n    if (_.isUndefined(valueForError)) {\n      return null;\n    } else {\n      return valueForError;\n    }\n  }\n}\n\nfunction toFloat(value, valueForNaN) {\n  var result = parseFloat(value);\n  if (isNaN(result)) {\n    if (_.isUndefined(valueForNaN)) {\n      return null;\n    } else {\n      return valueForNaN;\n    }\n  } else  {\n    return result;\n  }\n}\n\nfunction toInt(value, valueForNaN) {\n  var result = parseInt(value, 10);\n  if (isNaN(result)) {\n    if (_.isUndefined(valueForNaN)) {\n      return null;\n    } else {\n      return valueForNaN;\n    }\n  } else  {\n    return result;\n  }\n}\n\nexports.cookiejar = cookiejar;\nexports.camelize = camelize;\nexports.download = download;\nexports.parseCSV = parseCSV;\nexports.toDate = toDate;\nexports.toFloat = toFloat;\nexports.toInt = toInt;\n"],"sourceRoot":""}